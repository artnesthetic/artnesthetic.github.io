<!DOCTYPE html>
<html lang="es">
<head>
  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cl√≠nica Dental Art & Esthetic</title>
  <style>
    body {
      margin:0;
      font-family:'Poppins',Arial,sans-serif;
      background:#f9fafc;
      color:#333;
      line-height:1.6;
      overflow-x:hidden;
      position:relative;
    }

    /* Marca de agua difuminada */
    body::before{
      content:"";
      position:fixed; inset:0;
      background:url('logotipo.jpg') no-repeat center center;
      background-size:600px; opacity:.05; filter:blur(14px); z-index:-1;
    }

    /* HERO */
    header{
      height:65vh; display:flex; flex-direction:column; justify-content:center; align-items:center;
      text-align:center; color:#fff;
      background:linear-gradient(270deg,#5c4bc6,#7a62f0,#4dbde7);
      background-size:600% 600%; animation:gradientFlow 15s ease infinite;
      padding:0 20px; position:relative; overflow:hidden;
    }
    header h1{font-size:3em; margin:0; position:relative; z-index:1;}
    header p{font-size:1.3em; margin-top:15px; position:relative; z-index:1;}
    header::after{
      content:""; position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
      background:url('logotipo.png') no-repeat center / 320px;
      opacity:.12; filter:blur(4px); width:320px; height:320px; z-index:0;
    }
    @keyframes gradientFlow{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

    /* Animaciones scroll */
    .fade-in{opacity:0; transform:translateY(40px); transition:all .8s ease;}
    .fade-in.show{opacity:1; transform:translateY(0);}
    section{padding:60px 20px; max-width:1100px; margin:auto;}
    section h2{text-align:center; font-size:2em; color:#5c4bc6; margin-bottom:40px;}

    /* Cards varias */
    .services{display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:25px;}
    .card{background:#fff; padding:25px 20px; border-radius:14px; box-shadow:0 4px 10px rgba(0,0,0,.07); transition:.3s; text-align:center;}
    .card:hover{transform:translateY(-6px); box-shadow:0 6px 18px rgba(0,0,0,.12);}
    .card h3{margin:12px 0; color:#5c4bc6;}
    .icon{font-size:2em; color:#5c4bc6;}

    .reasons{display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:25px; text-align:center;}
    .reason{background:#fff; padding:25px 20px; border-radius:12px; box-shadow:0 3px 8px rgba(0,0,0,.06); transition:.3s;}
    .reason:hover{transform:translateY(-6px); box-shadow:0 6px 16px rgba(0,0,0,.1);}
    .icon-circle{width:70px; height:70px; border-radius:50%; background:#f1f3f9; display:flex; align-items:center; justify-content:center; margin:0 auto 15px;}
    .icon-circle svg{width:32px; height:32px; fill:#5c4bc6;}
    .reason h3{margin:10px 0; color:#5c4bc6; font-size:1.2em;}

    .team{display:flex; flex-wrap:wrap; gap:25px; justify-content:center;}
    .member{background:#fff; padding:20px; border-radius:14px; box-shadow:0 4px 10px rgba(0,0,0,.07); flex:1 1 250px; text-align:center; transition:.3s;}
    .member:hover{transform:translateY(-5px);}
    .member img{border-radius:50%; width:120px; height:120px; object-fit:cover; margin-bottom:10px; border:4px solid #eee; filter:grayscale(100%); transition:.5s;}
    .member img:hover{filter:grayscale(0%);}
    .member h4{margin:8px 0 4px; color:#5c4bc6;}

    .testimonials{display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:25px;}
    .testimonial{background:#fff; padding:25px; border-radius:14px; box-shadow:0 3px 10px rgba(0,0,0,.06); font-style:italic;}
    .testimonial strong{display:block; margin-top:10px; color:#5c4bc6; font-style:normal;}

    /* Botones */
    .btn{display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:12px 28px; border-radius:10px; font-weight:700; color:#fff!important; text-decoration:none!important; border:none!important; cursor:pointer; box-shadow:0 3px 8px rgba(0,0,0,.2); transition:.2s;}
    .btn:focus,.btn:focus-visible{outline:none!important; box-shadow:0 3px 8px rgba(0,0,0,.2);}
    .btn-whatsapp{background:linear-gradient(135deg,#25D366,#128C7E);}
    .btn-whatsapp:hover{transform:scale(1.05); background:linear-gradient(135deg,#1ebe5b,#0f6e5f);}
    .btn-primary{background:linear-gradient(135deg,#5c4bc6,#7a62f0);}
    .btn-primary:hover{transform:scale(1.05); background:linear-gradient(135deg,#4b3bb0,#6a54d9);}
    .btn-secondary{background:#ccc; color:#333!important; box-shadow:0 2px 6px rgba(0,0,0,.15);}
    .btn-secondary:hover{background:#bbb;}

    .contacto{background:#f1f3f9; padding:50px 20px;}
    .contact-card{background:#fff; max-width:600px; margin:auto; padding:30px; border-radius:16px; box-shadow:0 4px 12px rgba(0,0,0,.08); text-align:center;}
    .contact-card a{color:#5c4bc6; font-weight:600; text-decoration:none;}
    .contact-card a:hover{text-decoration:underline;}
    .cta{text-align:center; padding:50px 20px;}
    footer{background:#5c4bc6; color:#fff; text-align:center; padding:20px; font-size:.9em;}
    footer img{display:block; margin:0 auto 10px; height:60px; opacity:.35; filter:blur(1px);}

    /* Modal general */
    .modal{display:none; position:fixed; inset:0; z-index:1000; background:rgba(0,0,0,.6); justify-content:center; align-items:center;}
    .modal-content{background:#fff; padding:25px; border-radius:12px; max-width:420px; width:90%; box-shadow:0 5px 20px rgba(0,0,0,.25); position:relative;}
    .modal-content h2{text-align:center; color:#5c4bc6; margin-bottom:20px;}
    .close{position:absolute; top:10px; right:15px; font-size:1.5em; cursor:pointer; color:#666;}

    /* ===== Pulido SOLO del formulario ===== */
    body.modal-open{overflow:hidden;}
    .modal-content form{--gap:16px;}
    .form-grid{display:flex; flex-direction:column; gap:var(--gap);}
    .form-row{display:grid; grid-template-columns:1fr; gap:var(--gap);}
    .form-row--two{grid-template-columns:1fr;}
    @media (min-width:640px){
      .modal-content{max-width:640px;}
      .form-row--two{grid-template-columns:1fr 1fr;}
    }
    .field label{display:block; margin:0 0 6px; font-weight:600; color:#444;}
    .field input,.field select,.field textarea{
      width:100%; box-sizing:border-box;
      height:44px; padding:10px 12px;
      border:1.5px solid #e5e7eb; border-radius:10px;
      background:#fff; font-family:inherit; font-size:1rem;
      transition:border-color .2s, box-shadow .2s;
    }
    .field textarea{min-height:96px; height:auto; resize:vertical;}
    .field input:focus,.field select:focus,.field textarea:focus{
      border-color:#5c4bc6; box-shadow:0 0 0 3px rgba(92,75,198,.15); outline:none;
    }

    /* Checkbox alineado en la fila con Preferencia */
    .checkbox-inline{
      display:flex; align-items:center; gap:10px;
      user-select:none;
    }
    @media (min-width:640px){ .form-row--two .checkbox-inline{margin-top:28px;} }

    .modal-content .form-actions{display:flex; justify-content:flex-end; gap:10px; margin-top:8px;}

    /* === Espacio extra arriba/abajo del modal === */
    :root{
      --modal-padding-block: clamp(24px, 6vh, 64px);
      --modal-padding-inline: 20px;
    }
    .modal{
      overflow: auto;
      padding-block: var(--modal-padding-block);
      padding-inline: var(--modal-padding-inline);
    }
    .modal-content{
      max-height: calc(100vh - (2 * var(--modal-padding-block)));
      overflow: auto;
      -webkit-overflow-scrolling: touch;
      width: min(90vw, 640px);
    }
    @supports (height: 100dvh){
      .modal-content{
        max-height: calc(100dvh - (2 * var(--modal-padding-block)));
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Art & Esthetic</h1>
    <p>Cl√≠nica Dental en Barcelona ¬∑ Sonrisas con salud y estilo</p>
  </header>

  <section class="fade-in">
    <h2>Servicios</h2>
    <div class="services">
      <div class="card"><div class="icon">ü¶∑</div><h3>Implantes Dentales</h3><p>Soluciones seguras y est√©ticas con la tecnolog√≠a m√°s avanzada.</p></div>
      <div class="card"><div class="icon">üòÅ</div><h3>Ortodoncia Invisible</h3><p>Alineadores transparentes y brackets est√©ticos para una sonrisa perfecta.</p></div>
      <div class="card"><div class="icon">‚ú®</div><h3>Est√©tica Dental</h3><p>Carillas, blanqueamientos y tratamientos para mejorar la luminosidad.</p></div>
      <div class="card"><div class="icon">üë∂</div><h3>Odontopediatr√≠a</h3><p>Tratamientos infantiles con un enfoque amable y cercano.</p></div>
    </div>
  </section>

  <section class="fade-in">
    <h2>Por qu√© elegirnos</h2>
    <div class="reasons">
      <div class="reason"><div class="icon-circle">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 2h2v6H9zM5 8h10v2H5zM19 14.5a4.5 4.5 0 0 0-3-4.24V8h-2v2.26a4.5 4.5 0 0 0 0 8.48V22h2v-3.26a4.5 4.5 0 0 0 3-4.24z"/></svg>
      </div><h3>Tecnolog√≠a Avanzada</h3><p>Equipos modernos para tratamientos seguros y eficaces.</p></div>
      <div class="reason"><div class="icon-circle">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16 8l-4 4-4-4H2v2l8 8 6-6 2 2 4-4-4-4z"/></svg>
      </div><h3>Trato Cercano</h3><p>Nos preocupamos por tu bienestar en cada visita.</p></div>
      <div class="reason"><div class="icon-circle">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"/></svg>
      </div><h3>Financiaci√≥n Flexible</h3><p>Opciones adaptadas para que cuides tu sonrisa sin preocuparte.</p></div>
      <div class="reason"><div class="icon-circle">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
      </div><h3>Experiencia Contrastada</h3><p>A√±os de trayectoria y cientos de pacientes satisfechos.</p></div>
    </div>
  </section>

  <section class="fade-in">
    <h2>Nuestro Equipo</h2>
    <div class="team">
      <div class="member"><img src="doctor1.jpg" alt="Doctor"><h4>Dr. Juan P√©rez</h4><p>Especialista en Implantolog√≠a</p></div>
      <div class="member"><img src="doctor2.jpg" alt="Doctora"><h4>Dra. Laura Garc√≠a</h4><p>Ortodoncia y Est√©tica Dental</p></div>
    </div>
  </section>

  <section class="fade-in">
    <h2>Testimonios</h2>
    <div class="testimonials">
      <div class="testimonial">‚ÄúMuy profesionales, me explicaron todo con detalle y el resultado ha sido excelente.‚Äù<strong>Ana G.</strong></div>
      <div class="testimonial">‚ÄúAmbiente muy agradable, cero dolor y un trato humano incre√≠ble. 100% recomendable.‚Äù<strong>Carlos R.</strong></div>
      <div class="testimonial">‚ÄúLlev√© a mis hijos y salieron encantados. Atenci√≥n cari√±osa y eficaz.‚Äù<strong>Laura S.</strong></div>
    </div>
  </section>

  <section class="contacto fade-in">
    <h2>Contacto</h2>
    <div class="contact-card">
      <p><strong>Cl√≠nica Dental Meridiana</strong><br>
      <a href="https://www.google.com/maps?q=Av.+Meridiana+348,+08027+Barcelona" target="_blank">Av. Meridiana 348, Entresuelo B, 08027 Barcelona</a></p>
      <p><strong>Cl√≠nica Dental Poblenou</strong><br>
      <a href="https://www.google.com/maps?q=Carrer+de+Llull+240,+08005+Barcelona" target="_blank">Carrer Llull 240-244, Bajo, 08005 Barcelona</a></p>
      <p>üìû <a href="tel:+34672882850">+34 672 882 850</a></p>
      <p>‚úâÔ∏è <a href="mailto:info@artesthetic.es">info@artesthetic.es</a></p>
      <a class="btn btn-whatsapp" href="https://wa.me/34672882850" target="_blank">üí¨ Cont√°ctanos por WhatsApp</a>
    </div>
  </section>

  <section class="cta fade-in">
    <h2>¬øListo para sonre√≠r con confianza?</h2>
    <button class="btn btn-primary" id="openModal">Reserva tu cita ahora</button>
  </section>

  <!-- Modal -->
  <div class="modal" id="citaModal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="citaTitle">
      <span class="close" id="closeModal" aria-label="Cerrar">&times;</span>

      <!-- ===== Formulario con Formspree ===== -->
      <form id="citaForm"
            action="https://formspree.io/f/mdklqqow"
            method="POST"
            autocomplete="on"
            data-redirect="https://artnesthetic.github.io/index.html">

        <!-- Metadatos √∫tiles -->
        <input type="hidden" name="subject" value="Nueva cita - Art & Esthetic">
        <input type="hidden" name="page" value="">

        <!-- Honeypot antispam -->
        <div style="position:absolute;left:-5000px;opacity:0" aria-hidden="true">
          <label>Deja este campo vac√≠o:
            <input type="text" name="_hp">
          </label>
        </div>

        <div class="form-grid">
          <div class="form-row form-row--two">
            <div class="field">
              <label for="nombre">Nombre</label>
              <input id="nombre" name="nombre" type="text" placeholder="Tu nombre" required autocomplete="name">
            </div>
            <div class="field">
              <label for="telefono">Tel√©fono</label>
              <input id="telefono" name="telefono" type="tel" placeholder="Tu tel√©fono" required inputmode="tel" autocomplete="tel">
            </div>
          </div>

          <div class="form-row">
            <div class="field">
              <label for="email">Correo electr√≥nico</label>
              <input id="email" name="email" type="email" placeholder="tu@correo.com" required autocomplete="email">
            </div>
          </div>

          <div class="form-row">
            <div class="field">
              <label for="descripcion">¬øQu√© necesitas?</label>
              <textarea id="descripcion" name="descripcion" rows="3" placeholder="Breve descripci√≥n del motivo de tu cita"></textarea>
            </div>
          </div>

          <div class="form-row form-row--two">
            <div class="field">
              <label for="preferencia">Preferencia</label>
              <select id="preferencia" name="preferencia">
                <option value="Ma√±ana">Ma√±ana</option>
                <option value="Tarde">Tarde</option>
              </select>
            </div>

            <label class="checkbox-inline" for="urgente">
              <input type="checkbox" id="urgente" name="urgente">
              <span>Marcar como urgente</span>
            </label>
          </div>
        </div>

        <div class="form-actions">
          <button type="button" class="btn btn-secondary" id="cancelBtn">Cancelar</button>
          <button type="submit" class="btn btn-primary">Enviar</button>
        </div>
      </form>
      <!-- ===== /Formulario ===== -->
    </div>
  </div>

  <footer>
    <img src="logotipo.png" alt="Logo Art & Esthetic">
    ¬© 2017-2025 Art & Esthetic ¬∑ Cl√≠nica Dental Barcelona
  </footer>

  <script>
    // Scroll reveal
    const faders=document.querySelectorAll('.fade-in');
    const observer=new IntersectionObserver(entries=>{
      entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('show'); }});
    },{threshold:.2});
    faders.forEach(el=>observer.observe(el));

    // Modal
    const modal=document.getElementById('citaModal');
    const openModal=document.getElementById('openModal');
    const closeModal=document.getElementById('closeModal');
    const cancelBtn=document.getElementById('cancelBtn');

    function openCita(){ modal.style.display='flex'; document.body.classList.add('modal-open'); modal.setAttribute('aria-hidden','false'); }
    function closeCita(){ modal.style.display='none'; document.body.classList.remove('modal-open'); modal.setAttribute('aria-hidden','true'); }

    openModal.addEventListener('click',openCita);
    closeModal.addEventListener('click',closeCita);
    cancelBtn.addEventListener('click',closeCita);
    window.addEventListener('click',e=>{ if(e.target===modal) closeCita(); });
    window.addEventListener('keydown',e=>{ if(e.key==='Escape') closeCita(); });
  </script>

  <!-- Evita estado cacheado al volver atr√°s -->
  <script>
    window.addEventListener('pageshow', e => { if (e.persisted) location.reload(); });
  </script>

  <!-- Env√≠o AJAX a Formspree con redirecci√≥n -->
  <script>
  (() => {
    const form = document.getElementById('citaForm');
    if (!form) return;

    // Rellenamos "page" con la URL actual para trazabilidad
    const pageField = form.querySelector('input[name="page"]');
    if (pageField) pageField.value = location.href;

    const submitBtn = form.querySelector('button[type="submit"]');
    const originalText = submitBtn ? submitBtn.textContent : null;

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      if (submitBtn) { submitBtn.disabled = true; submitBtn.textContent = 'Enviando‚Ä¶'; }

      try {
        const res = await fetch(form.action, {
          method: 'POST',
          body: new FormData(form),
          headers: { 'Accept': 'application/json' }
        });

        if (res.ok) {
          const to = form.dataset.redirect || '/';
          window.location.assign(to);  // redirecci√≥n fiable tras enviar
        } else {
          alert('No se ha podido enviar el formulario ahora mismo. Int√©ntalo de nuevo en unos minutos.');
        }
      } catch (err) {
        alert('Error de red. Revisa tu conexi√≥n e int√©ntalo de nuevo.');
      } finally {
        if (submitBtn) { submitBtn.disabled = false; submitBtn.textContent = originalText; }
      }
    });
  })();
  </script>
</body>
</html>
